<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Parine sa Batangas</title>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }
    
    body {
        background: #18395E;
        overflow: hidden;
    }
    
    .container {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 1500px;
        height: 600px;
        background: #18395E;
        box-shadow: 0 30px 50px #dbdbdb;
    }
    
    .background-slide {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -1;
    }
    
    .background-slide .item {
        width: 100%;
        height: 100%;
        background-position: center;
        background-size: cover;
        transition: background-image 0.5s ease-in-out;
    }
    
    .slide {
        position: relative;
        z-index: 1;
    }
    
    .slide .item {
        width: 100%;
        height: 100%;
        position: absolute;
        top: 0;
        left: 0;
        display: none;
        background-position: center;
        background-size: cover;
    }
    
    .slide .item.active {
        display: block;
    }
    
    .content {
        position: absolute;
        top: 50%;
        left: 100px;
        width: 300px;
        text-align: left;
        color: #15375D;
        transform: translate(0, -50%);
        font-family: system-ui;
        display: none;
        overflow: hidden; /* Hide overflowing blur effect */
    }
    
    .content.active {
        display: block;
    }
    

    
    .content .name {
        margin-top: 500px;
        font-size: 40px;
        text-transform: uppercase;
        font-weight: bold;
        opacity: 0;
        background: rgba(255, 255, 255, 0.8);
        animation: animateName 0.5s ease-in-out 0.5s forwards; /* Changed animation name and delay */
    }
    
    .content .des {
        margin-top: 10px;
        margin-bottom: 20px;
        opacity: 0;
        background: rgba(255, 255, 255, 0.8);
        animation: animateDes 0.5s ease-in-out 1s forwards; /* Changed animation name and delay */
    }
    
    /* Keyframes for animations */
    @keyframes animateName {
        from {
            opacity: 0;
            transform: translate(0, 100px);
        }
    
        to {
            opacity: 1;
            transform: translate(0);
        }
    }
    
    @keyframes animateDes {
        from {
            opacity: 0;
            transform: translate(0, 100px);
        }
    
        to {
            opacity: 1;
            transform: translate(0);
        }
    }
    
    
    .button{
        width: 100%;
        text-align: center;
        position: absolute;
        bottom: 20px;
    }
    
    .button button{
        width: 40px;
        height: 35px;
        border-radius: 8px;
        border: none;
        cursor: pointer;
        margin: 0 5px;
        border: 1px solid #000;
        transition: 0.3s;
    }
    
    .button button:hover{
        background: #ababab;
        color: #fff;
    }
</style>
</head>
<body>
    <div class="container">
        <div class="background-slide">
            <div class="item"></div>
        </div>
        <div class="slide">
            {% for module in modules %}
            <div class="item {% if forloop.first %}active{% endif %}" style="background-image: url('{{ module.ModuleContent.url }}');">
                <div class="content {% if forloop.first %}active{% endif %}">
                    <div class="name">{{ module.ModuleName }}</div>
                    <div class="des">{{ module.ModuleFile }}</div>
                </div>
            </div>
            {% endfor %}
        </div>
        <div class="button">
            <button class="prev" onclick="prevSlide()"><i class="fas fa-arrow-left"></i></button>
            <button class="next" onclick="nextSlide()"><i class="fas fa-arrow-right"></i></button>
        </div>
    </div>
    
    <script>
        let currentSlide = 0;
        const items = document.querySelectorAll('.slide .item');
        const backgroundSlide = document.querySelector('.background-slide .item');
        const contents = document.querySelectorAll('.content');
        const prevButton = document.querySelector('.prev');
        const nextButton = document.querySelector('.next');
    
        function updateButtonState() {
            prevButton.disabled = currentSlide === 0;
            nextButton.disabled = currentSlide === items.length - 1;
        }
    
        function nextSlide() {
            items[currentSlide].classList.remove('active'); // Hide current slide
            contents[currentSlide].classList.remove('active'); // Hide current content
    
            currentSlide = (currentSlide + 1) % items.length; // Increment current slide index
    
            items[currentSlide].classList.add('active'); // Show next slide
            contents[currentSlide].classList.add('active'); // Show next content
    
            backgroundSlide.style.backgroundImage = items[currentSlide].style.backgroundImage; // Set next background image
            updateButtonState();
        }
    
        function prevSlide() {
            items[currentSlide].classList.remove('active'); // Hide current slide
            contents[currentSlide].classList.remove('active'); // Hide current content
    
            currentSlide = (currentSlide - 1 + items.length) % items.length; // Decrement current slide index
    
            items[currentSlide].classList.add('active'); // Show previous slide
            contents[currentSlide].classList.add('active'); // Show previous content
    
            backgroundSlide.style.backgroundImage = items[currentSlide].style.backgroundImage; // Set previous background image
            updateButtonState();
        }
    
        // Automatically start with the first slide after page load
        window.onload = function() {
            nextSlide();
            updateButtonState();
        };
    </script>
    
    
</body>
</html>